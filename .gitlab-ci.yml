image: timbru31/java-node:latest

cache:
  paths:
    - node_modules/

stages:
  - test

lint:
  stage: test
  script:
    - npm install -g eslint
    - eslint . --ext .js,.jsx,.ts,.tsx

gherkin-lint:
  stage: test
  script:
    - npm install -g gherkin-lint
    - gherkin-lint

wdio-run:
  stage: test
  dependencies:
    - lint
  artifacts:
    untracked: false
    when: always
    expire_in: 5 days
    paths:
      - ./video
  script:
    - npm i
    - npm run wdio
